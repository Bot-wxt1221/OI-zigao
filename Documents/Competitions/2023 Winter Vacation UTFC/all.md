

# <center>$\text{SWOI 2023 寒假集训不欢乐摸鱼杯}$

# <center>$\text{Div.2 Round 1}$

$\text{SWOI 2023 Winter Vacation Unhappy Touching Fish Comptition Div.2 Round 1}$

<img src=./photograph.png width=100% />

本场比赛简称 $\text{UTFC}$ 。由于这是第一场 $\text{UTFC}$ 在这做简单解释，**本场比赛**宗旨“用心为选手创造良好比赛体验”。总体题目，不偏，不怪，为近期学习内容；对于每一个题，都有不同的总体难度，而为了保证总体难度不过高，每一个题如果思维难度高则不会有太大的编码难度，由于本场比赛是 $\text{Div.2}$ 难度接近 $\text{CSP-S}$ 故每道题都考思维难度，没有太多细节，数据不毒瘤，不卡常数；数据配置档次多，初二初三同学多打正解，初一选手亦可写暴力(甚至可能爆杀高年级正解选手)。祝各位选手玩的开心！

<div STYLE="page-break-after: always;"></div>

| 题目名称    | 数列           | HDS学计算   | 方框         | 二刺螈的斗争         |
| ------- | ------------ | -------- | ---------- | -------------- |
| 题目类型    | 传统型          | 传统型      | 传统型        | 传统型            |
| 可执行文件名  | sequence     | calc     | square     | worldintwo     |
| 输入文件名   | sequence.in  | calc.in  | square.in  | worldintwo.in  |
| 输出文件名   | sequence.out | calc.out | square.out | worldintwo.out |
| 每个测试点时限 | 200ms        | 200ms    | 200ms      | 1s             |
| 内存限制    | 16MB         | 16MB     | 64MB       | 256MB          |
| 测试点数目   | 10           | 10       | 10         | 10             |
| 测试点是否等分 | 是            | 是        | 是          | 是              |
| 提交文件程序名 | sequence.cpp | calc.cpp | square.cpp | worldintwo.cpp |
| G++编译选项 | -O0          | -O0      | -O0        | -O0            |

<div STYLE="page-break-after: always;"></div>

# 数列 sequence

## 题目描述

已知

$$
F_n=\frac{1}{\sqrt{5}}\left[\left(\frac{\sqrt{5}+1}{2}\right)^{n}-\left(\frac{\sqrt{5}-1}{2}\right)^{n}\right]
$$

请你求出 $F_n \bmod 10^9 + 7$ 的值。

## 输入格式

一行一个正整数 $n$ 。

## 输出格式

输出一行一个整数表示答案。

## 样例 #1

### 样例输入 #1

```
5
```

### 样例输出 #1

```
5
```

## 提示

【数据范围】

对于 $100\%$ 的数据， $1\le n < 2^{63}$ 。

<div STYLE="page-break-after: always;"></div>

# HDS学计算 calc

## 题目背景

HDS一向是神，为了凸显自己的气质，从来不自己计算函数值，都是用电脑来算，但是今天有一个难题连HDS都不会，你能帮帮他吗？

## 题目描述

$F_i=F_{i-1}+bF_{i-2}+ai^2+c$

其中 $a,b,c$ 是给定的常数。

试求 $\sum_{n}^{i=1} F_i$ 。

$F_0=F_1=F_2=1$

HDS才不看这么大的数字，请求该数对 $100000921$ 的取模结果。

## 输入格式

四个整数 $n,a,b,c$ ，意义如上。

## 输出格式

输出一个对$100000921$去模的整数，表示 $F_i$ 。

## 样例 #1

### 样例输入 #1

```
4 1 5
```

### 样例输出 #1

```
40
```

## 提示

【数据范围】

对于 $20\%$ 的数据， $0 \leq n \leq 10$ 。

对于 $40\%$ 的数据， $0 \leq n \leq 10^5$ 。

对于 $100\%$ 的数据， $0 \leq n \leq 10^{18}$ 。

<div STYLE="page-break-after: always;"></div>

# 方框 square

## 题目描述

总司令和小熊是很好的朋友，不久小熊的生日就要到了。总司令为了给小熊准备生日礼物，总司令想给小熊一串项链，现在他的材料都准备好了，让我们开始吧！

在坐标系 xOy ，中有 $n$ 个宝石，每颗宝石都是一个有序点对，其中第 $i$ 个点对为 $\left(P,Q\right)_i$ 保证 $Q_i$ 在直线 $l_1:y=k_1x+b_1(k_1>0)$ 上，保证 $P_i$ 在直线 $l_2:y=k_2x+b_2(k_2>0)$ 上，且 $X_{Q_{i}},X_{P_{i}}$ 单调递增。这样就可以连接 $P,Q$ 然后以 $PQ$ 为边长作一个正方形，这个正方形的面积就是这个宝石的费用，但是你需要连接起来一个个宝石，总司令发现 $n$ 个宝石实在是有点太多了，所以他会在 $n$ 个宝石中依次选取任意 $m$ 个宝石 ~~(即使 $m$ 个也很多)~~，假设你选取的第 $k$ 宝石是原来的第 $c_k$ 个宝石，对于每一个宝石，他会连接 $P{c_{k-1}},Q_{c_k}$ 我们约定 $P_0\left(0,0\right),Q_0\left(0,0\right)$ 并且以 $P{c_{i-k}}Q_{c_k}$ 作一个正方形，并将其面积计算在这个宝石的费用中。求出最小的费用。

## 输入格式

第 $1$ 行: $6$ 个正整数 $n,m,k_1,b_1,k_2,b_2$ 。

接下来 $n$ 行中: 第 $i$ 行有 $2$ 个正整数 $X_{Q_{i}},X_{P_{i}}$ 。

## 输出格式

仅一行: 最小的费用。

## 样例 #1

### 样例输入 #1

```
4 2 2 5 3 4
1 2
2 5
4 6
6 7
```

### 样例输出 #1

```
158
```

## 提示

【数据范围】

对于 $20\%$ 的数据， $n\leq10^3,m=2$ 。

对于 $40\%$ 的数据， $n\leq10^2,m\leq10^2$ 。

对于 $100\%$ 的数据， $n\leq10^3,m\leq10^3,m\leq n,max\left(k_1,k_2\right)\leq9,max\left(b_1,b_2,X_{Q_{i}},X_{Q_{i}},X_{P_{i}},Y_{P_{i}}\right)\leq10^6$  。保证答案小于 $2^{63}-1$ 。

<div STYLE="page-break-after: always;"></div>

# 二刺螈的斗争 worldintwo

## 题目背景

C神，亦名门萨，本为机房之神，曾集评测只因和图灵所剩之精华，创二分弹栈及堆优化SPFA，而后被gyc诬陷致NOIP失利而退役。又有王子谦初二者，谓超神wxt曰：“DP岂不诚数组焉，深搜岂非一函数于STL中？”。因而被称为数组之神，而后CSP初赛失利，往之综合班。如今wxt及gyc乃惊觉有眼不识泰山，遂以此题纪念二位神。

## 题目描述

随着HXQ等神的退役，曾经盛极一时的二刺螈之风便逐渐消逝，~~革命派~~ZLF也很讨厌二刺螈，为了避免残党（~~YTC~~）继续影响机房导致同学们精神萎靡，他摸清了所有残党的位置，他们之间有 $m$ 条边相连，只可以从一边到另一边，每个残党有一个权值，ZLF要选若干个点记为 $C$,$C_i->C_{i+1}$ 的边是存在的，选之后头领wxt则会给ZLF所有经过的点的权值之和的RMB，每个点可以重复走，但是不能重复计算贡献，请问ZLF能获得的最多的钱是多少。

                                                                                        --《SWOI野史》

## 输入格式

先是两个整数 $n,m$ 表示共有 $n$ 个残党，$m$ 条边把他们连起来。

再是一行有 $n$ 个数，第 $i$ 个数表示第 $i$ 个残党的权值 $v_i$。

再是 $m$ 行，每行两个整数 $u,v$，表示能从 $u$ 到 $v$ 。

## 输出格式

一个整数，表示权值最大。

## 样例 #1

### 样例输入 #1

```
6 6
9 7 5 3 4 2
4 6
4 5
4 3
3 2
2 1
3 1
```

### 样例输出 #1

```
24
```

## 提示

此题OI量极大，请用快速读入。

对于 $20\%$ 的数据，  $0 \leq n,m \leq 10$ 。

对于 $40\%$ 的数据，  $0 \leq n,m \leq 10^4$ 。

对于 $100\%$ 的数据，  $0 \leq n,m \leq 10^{6}$ 并且， $0 \leq v_i \leq 10^3$ 。